# 学习总结

1. 授权和回收权限
```
GRANT SELECT,INSERT,UPDATE ON TABLE_NAME TO sb;

REVOKE SELECT,INSERT,UPDATE ON TABLE_NAME FROM sb;
```
2. 对于修改表结构进行rollback<br/>
&emsp; 2.1 backup表结构及数据
 ```
 CREATE TABLE VEHIC_VENDOR_BK20170617 AS SELECT * FROM VEHIC_VENDOR_T
 ```
&emsp;2.2 修改表
```
ALTER TABLE VEHIC_VENDOR_T
MODIFY (NAME VARCHAR2(1000 BYTE));
```
&emsp;2.3 删除表中数据
```
DELETE FROM VEHIC_VENDOR_T
```
&emsp;2.4 回退表结构
```
ALTER TABLE VEHIC_VENDOR_T
MODIFY (NAME VARCHAR2(100 BYTE));
```
2.5 插入数据
```
INSERT INTO VEHIC_VENDOR_T SELECT * FROM VEHIC_VENDOR_BK20170617
```
3. oracle中rollback表<br/>
```
DROP TABLE TABLE_NAME;
DROP SEQUENCE "SEQUENCE_NAME";
```
4. DROP与DELETE区别<br/>
DELETE仅仅删除表中数据，DROP删除表
```
DELETE FROM TABLE_NAME
DROP TABLE TABLE_NAME;
```
5. ORACLE中创建表后，设置主键自增
```
CREATE SEQUENCE "VEHIC_VENDOR_S" MINVALE MINVALUE 1 MAXVALUE 99999999 
INCREMENT BY 1 START WITH 10000 CACHE 20 NOORDER NOCYCLE;
```
6. TRUNC 
TRUNC 表示取整
```
SELECT TRUNC(SYSDATE) FROM DUAL;     //获取当天零点
SELECT TRUNC(SYSDATE) + INTERVAL '1' DAY - INTERVAL '1' SECOND FROM DUAL;    //获取当天59点

TRUNC(TO_DATE('2013-04-29','YYYY-MM-dd'),'month')     //2013年4月1日
LAST_DAY(TO_DATE('2013-04-29','YYYY-MM-dd'))          //2013年4月30日
```
7. Group by 带两个参数
```
SELECT VENDOR_ID,SUB_EVALUATION_ID,COUNT(*)
FROM VENDOR_EVALUATION_T
GROUP BY(VENDOR_ID,SUB_EVALUATION_ID)
```
8. NLLSORT 
```
ORDER BY NLSSORT(TABLE_NAME.FIELD,'NLS_SORT=SCHINESE_PINYIN_M')
```
9. mybatis 中的selectKey
在创建一条数据时，这条数据的ID是由数据库自增生成的，在mybatis中为了创建一条数据后能拿到这条数据的ID值，在create的SQL语句中可以加入
```
<selectaKey reusltType="int" order="BEFORE" keyProperty="id">
SELECT VEHIC_CONTRACT_S.nextval FROM DUAL;
</selectKey>
```

GROUP BY(VENDOR_ID,SUB_EVALUATION_ID)创建
GROUP BY(VENDOR_ID,SUB_EVALUATION_ID)
